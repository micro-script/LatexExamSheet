% !TeX root = ../exam-zh.tex

\section{使用说明}

\subsection{基本用法}

以下是一份简单的 \TeX{} 文档，它演示了 \cls{exam-zh} 的最基本用法：

\begin{latexcode}[deletetexcs={\documentclass},
    moretexcs={\chapter},morekeywords={\documentclass},
    emph={[2]document}]
  % main.tex
  \documentclass{exam-zh}
  \begin{document}
    \section{Welcome to exam-zh!}
    你好，\LaTeX{}！
  \end{document}
\end{latexcode}


按照~\ref{subsec:编译方式} 小节中的方式编译，您应当得到一篇 1 页的文档。


\subsection{编译方式} \label{subsec:编译方式}

本模板不支持 \pdfTeX{} 引擎，仅支持使用 \XeLaTeX{} 。为了生成正确的目录、脚注以及交叉引用，您至少需要连续编译两次。

以下代码中，假设您的 \TeX{} 源文件名为 \file{example.tex}。请在命令行中执行
\begin{shellcode}[morekeywords={xelatex}]
  xelatex example
\end{shellcode}


\subsection{模板选项}

所谓“模板选项”，指需要在引入文档类的时候指定的选项：
\begin{latexcode}[deletetexcs={\documentclass},
    morekeywords={\documentclass}]
  \documentclass(*\oarg{模板选项}*){exam-zh}
\end{latexcode}

有些模板选项为布尔型，它们只能在 \opt{true} 和 \opt{false}
中取值。对于这些选项，\kvopt{\meta{选项}}{true} 中的“|= true|”
可以省略。

\cls{exam-zh} 的模版选项接口与 \cls{ctexart} 相同，具体可 \cmd{texdoc ctex} 查阅 \pkg{ctex} 宏包文档。


\subsection{命令和环境介绍}

\subsubsection{正体的数学常数}

\begin{function}{\eu}
  正体的自然对数的底“e”。
\end{function}

\begin{function}{\iu}
  正体的虚数单位“i”。
\end{function}

\tn{eu} 可以理解为 “e upright” 的缩写或者 “Euler's number” 的首字母，\tn{iu} 可以理解为 “i upright” 或 “imaginary unit” 的缩写，这样更方便记忆。

\begin{latexexample}{\tn{eu} 和 \tn{iu} 的效果}
  $\eu \quad \iu$
\end{latexexample}


\subsubsection{抬头}

\begin{function}[added = 2022-07-03]{\information}
  \begin{ccnusyntax}[emph={[1]information}]
    \information(*\oarg{分隔符}*)
  \end{ccnusyntax}
  水平的学生信息输入命令。\opt{分隔符} 默认为 |\quad|。使用示例：
  \begin{latexcode}[gobble=4]
    \information{
      姓名\underline{\hspace{6em}},
      座位号\underline{\hspace{15em}}
    }
  \end{latexcode}
\end{function}

\begin{function}[added = 2022-07-03]{\warning}
  \begin{ccnusyntax}[emph={[1]warning}]
    \warning(*\marg{警告}*)
  \end{ccnusyntax}
  警告命令。居中、黑体。使用示例：
  \begin{latexcode}[gobble=4]
    \warning{（在此卷上答题无效）}
  \end{latexcode}
\end{function}

\begin{function}[updated = 2022-07-03]{\secret}
  \begin{ccnusyntax}[emph={[1]secret}]
    \secret(*\oarg{格式命令}*)
  \end{ccnusyntax}
  “绝密 $\bigstar$ 启用前”。格式命令默认为 |\bfseries|。
\end{function}

\begin{function}[updated = 2022-07-03]{\goodluck}
  \begin{ccnusyntax}[emph={[1]goodluck}]
    \goodluck(*\oarg{祝福语}*)
  \end{ccnusyntax}
  祝福语命令。祝福语默认为 |祝考试顺利|。
\end{function}

\begin{function}{notice 环境}
  \begin{ccnusyntax}[emph={[2]notice}]
    \begin{notice}(*\oarg{键值列表}*)
      \item ...
      \item ...
    \end{notice}
  \end{ccnusyntax}
  注意事项环境。是 \env{enumerate} 环境的包装，\meta{键值列表} 传递给 \env{enumerate} 环境的可选参数。
\end{function}

\begin{function}{\title}
  \begin{ccnusyntax}[emph={[1]title}]
    \title(*\marg{标题}*)
  \end{ccnusyntax}
  标题。在 \tn{maketitle} 前使用。参数控制见~\ref{subsubsec:参数-抬头} 节。
\end{function}

\begin{function}{\subject}
  \begin{ccnusyntax}[emph={[1]subject}]
    \subject(*\marg{科目}*)
  \end{ccnusyntax}
  科目。在 \tn{maketitle} 前使用。可以为空或不写。参数控制见~\ref{subsubsec:参数-抬头} 节。
\end{function}

\begin{function}{\maketitle}
  \begin{ccnusyntax}[emph={[1]maketitle}]
    \maketitle
  \end{ccnusyntax}
  生成标题和科目。
\end{function}


\subsubsection{题干}

\begin{function}{question 环境}
  \begin{ccnusyntax}[emph={[2]question}]
    \begin{question}(*\oarg{键值列表}*)
      <题干>
    \end{question}
  \end{ccnusyntax}
  选择题和填空题题干环境。
\end{function}

\begin{function}{problem 环境}
  \begin{ccnusyntax}[emph={[2]problem}]
    \begin{problem}(*\oarg{键值列表}*)
      <题干>
    \end{problem}
  \end{ccnusyntax}
  解答题题干环境。
\end{function}

\cls{question} 和 \cls{problem} 环境的区别仅在于若 \kvopt{show-paren}{true} （下面会介绍这个键值），则 \cls{question} 的题干会紧接在分数后而  \cls{problem} 的题干会在分数后新起一段后开始。

\ExplSyntaxOn
\keys_set:nn { exam-zh / question }
  {
    show-points = true
  }
\ExplSyntaxOff
\begin{latexexample}{\cls{question} 和 \cls{problem} 环境的区别}
  % \examsetup{
  %   question/show-points = true
  % }
  \begin{question}[points = 1]
    题干测试
  \end{question}
  \begin{problem}[points = 2]
    题干测试
  \end{problem}
\end{latexexample}


\ExplSyntaxOn
\keys_set:nn { exam-zh / question }
  {
    show-points = auto,
    index = 0,
    show-paren
  }
\ExplSyntaxOff
\begin{function}{\paren}
  \begin{ccnusyntax}[emph={[2]\paren}]
    \paren(*\oarg{答案}*)
  \end{ccnusyntax}
  括号。\meta{答案} 可以受下面介绍的 \cmd{show-answer} 键值控制隐藏。会自动到行末尾，若单行内容较长会自动到下一行末尾
\end{function}


\begin{latexexample}{\tn{paren} 的换行效果}
  % \examsetup{
  %   question/show-paren = true
  % }
  \begin{question}
    短题干选项 \paren
  \end{question}
  \begin{question}
    长长长长长长长长长长长长长长长长长长长长长长长长长长长题干选项 \paren
  \end{question}
\end{latexexample}


\subsubsection{选择题} \label{subsubsec:命令环境-选择题}

\begin{function}{choices 环境}
  \begin{ccnusyntax}[emph={[2]choices}]
    \begin{choices}(*\oarg{键值列表}*)
      \item (*\meta{选项1}*)
      \item (*\meta{选项2}*)
      ...
    \end{choices}
  \end{ccnusyntax}
  选择题选项排版环境。\meta{键值列表} 见~\ref{subsubsec:参数-选择题}。
\end{function}

\begin{function}{\setchoices}
  \begin{ccnusyntax}[emph={[2]\setchoices}]
    \setchoices(*\marg{键值列表}*)
  \end{ccnusyntax}
  \env{choices} 环境的参数设置。和
  \begin{latexcode}[gobble=4]
    \examsetup{
      choices = {
        ...
      }
    }
  \end{latexcode}
  效果相同。开发此命令原因是 \file{exam-zh-choices.sty} 是独立的模块，可以独立于 \cls{exam-zh} 外使用。
\end{function}

\begin{function}{\AddChoicesCounter}
  \begin{ccnusyntax}[emph={[2]\AddChoicesCounter}]
    \AddChoicesCounter(*\marg{LaTeX command}*)(*\marg{internal command}*)(*\marg{widest label}*)
  \end{ccnusyntax}
  如果用户需要使用其它形式的数字作为 \env{choices} 环境的标签，需要使用 \tn{AddChoicesCounter} 命令将其添加进 \opt{label} 选项的识别范围内（类似 \pkg{enumitem} 宏包的 \tn{AddChoicesCounter} ）。其中 \meta{LaTeX command} 是在 \opt{label} 选项中的形式，\meta{internal command} 是内部的实现，\meta{widest label} 是最宽的标签。比如带圈数字的添加方法：
  \begin{latexcode}[gobble=4]
    \AddChoicesCounter{\circlednumber}{\__examzh_choices_circled_number:n}{1}
  \end{latexcode}
\end{function}


\begin{latexexample}{\tn{AddChoicesCounter} 使用示例}
  \ExplSyntaxOn
  \cs_new:Npn \test_counter:n #1
    {
      \int_set:Nn \l_tmpa_int { \int_eval:n { #1 + 1 } }
      \int_use:N \l_tmpa_int
    }
  \AddChoicesCounter \test \test_counter:n {1}
  \ExplSyntaxOff
  \begin{choices}[label = \test*]
    \item 1
    \item 2
  \end{choices}
\end{latexexample}


\begin{function}{\circlednumber}
  \begin{ccnusyntax}[emph={[2]\circlednumber}]
    \circlednumber(*\meta{数字或计数器名字}*)
  \end{ccnusyntax}
  带圈数字命令。
  \begin{latexexample}{\tn{circlednumber} 的使用示例}
    \circlednumber{1} \circlednumber{2}
    \circlednumber{page} \circlednumber{section}
  \end{latexexample}
\end{function}


\subsubsection{填空题}

\begin{function}{\fillin}
  \begin{ccnusyntax}[emph={[2]\fillin}]
    \fillin(*\oarg{键值列表}*)(*\oarg{答案}*)
  \end{ccnusyntax}
  填空（下划线或括号）。\meta{答案} 可以受~\ref{subsubsec:参数-题干} 节的 \cmd{question/show-answer} 键值控制隐藏。\meta{键值列表} 见~\ref{subsubsec:参数-填空题} 节。
\end{function}

注意，\tn{fillin} 命令经过处理，|\fillin[<1>]| 表示 |\fillin[<答案>]|（而不是通常定义两个可选参数命令，若只写一个的时候默认为第一个参数），而如果仅仅改变 \tn{fillin} 的类型（见下）而不输入答案，则需要使用 |\fillin[type=paren][]|。这样设计是考虑到：大部分时候都是无答案和输入答案两种情况，而单独改某一个 \tn{fillin} 的类型的情况很少，一般都是一些题目统一改，这个时候在需要修改的 \tn{fillin} 之前使用
  \begin{latexcode}[gobble=4]
    \examsetup{
      fillin/type = paren
    }
  \end{latexcode}
  更改即可。如果后续需要换回来，则只需要使用
  \begin{latexcode}[gobble=4]
    \examsetup{
      fillin/type = line
    }
  \end{latexcode}
  即可。

需要注意的是，如果 \tn{fillin} 的参数重含有不配对的中括号时会报错，如 |\fillin[$(−\infty, 1]$]|。这时需要使用大括号将内容保护起来：|\fillin[{$(−\infty, 1]$}]|。


\subsubsection{判断题}

作为 \tn{paren} 和 \tn{fillin} 命令的应用可以实现判断题效果：
\begingroup
\examsetup{
  question/index=0
}
\begin{latexexample}{\tn{paren} 和 \tn{fillin} 命令的应用：判断题}
  \examsetup{
    question = {
      show-answer = true,
      show-paren = true
    },
    fillin/type = paren
  }
  \newcommand{\true}{$\surd$}
  \newcommand{\false}{$\times$}

  \begin{question}
    $1 + 1 = 2$ \paren[对]
  \end{question}

  \begin{question}
    $1 + 1 = 3$ \fillin[错]
  \end{question}

  \begin{question}
    $1 + 1 = 2$ \paren[\true]
  \end{question}

  \begin{question}
    $1 + 1 = 3$ \fillin[\false]
  \end{question}
\end{latexexample}
\endgroup

由于使用“对错”还是“叉勾”因人而异，所以本模版没有固定，但结合上面的例子为用户提供一种“自定义”思路（基于 \tn{fillin} 为例）：
\ExplSyntaxOn
\cs_undefine:N \true
\cs_undefine:N \false
\ExplSyntaxOff
\examsetup{
  question/index = 0
}
\begingroup
\begin{latexexample}{填空题的自定义示例}
\examsetup{
  question = {
    show-answer = true,
    show-paren = true
  },
  fillin/type = paren
}

\newcommand{\true}{\fillin[$\surd$]}
\newcommand{\false}{\fillin[$\times$]}

\begin{question}
  $1 + 1 = 2$ \true
\end{question}

\begin{question}
  $1 + 1 = 3$ \false
\end{question}
\end{latexexample}
\endgroup


\subsubsection{解答题}

\begin{function}[added = 2022-07-01]{solution 环境}
  \begin{ccnusyntax}[emph={[2]solution}]
    \begin{solution}(*\oarg{label-name}*)
      ...
    \end{solution}
  \end{ccnusyntax}
  解答题解答环境。\meta{label-name} 表示 \env{solution} 环境的开头标签的内容，默认为 |解答|。
\end{function}

\begin{latexexample}{\env{solution} 环境示例}
  \begin{solution}
    测试
  \end{solution}
  \begin{solution}[证明]
    测试
  \end{solution}
\end{latexexample}

\begin{function}[added = 2022-07-01]{\score}
  \begin{ccnusyntax}[emph={[1]score}]
    \score(*\marg{分数}*)
  \end{ccnusyntax}
  \env{solution} 环境中得分点的得分命令。若在行间公式使用，则需要编译两次产生虚线。
\end{function}

\begin{latexexample}{\tn{score} 命令示例}
  \begin{solution}
    函数的定义域为 $(0, +\infty)$,
    又 \[f^{\prime}(x) = 1 - \ln x-1 = -\ln x, \score{2}\]
    当 $x \in(0, 1)$ 时, $f^{\prime}(x) > 0$, 当 $x \in(1, +\infty)$ 时, $f^{\prime}(x) < 0$.

    故 $f(x)$ 的递增区间为 $(0,1)$, \score{1} 递减区间为 $(1, +\infty)$. \score{1}
  \end{solution}
\end{latexexample}


\subsubsection{几个列表环境}

\begin{function}[added = 2022-07-04]{step 环境}
  \begin{ccnusyntax}[emph={[2]step}]
    \begin{step}
      \item ...
      \item ...
    \end{step}
  \end{ccnusyntax}
  “步骤”列表环境。
\end{function}

\begin{function}[added = 2022-07-04]{method 环境}
  \begin{ccnusyntax}[emph={[2]method}]
    \begin{method}
      \item ...
      \item ...
    \end{method}
  \end{ccnusyntax}
  “方法”列表环境。
\end{function}

\begin{function}[added = 2022-07-04]{case 环境}
  \begin{ccnusyntax}[emph={[2]case}]
    \begin{case}
      \item ...
      \item ...
    \end{case}
  \end{ccnusyntax}
  “情形”列表环境。
\end{function}

上述三个列表环境的参数控制见~\ref{subsubsec:参数-列表环境}



\subsubsection{草稿纸}

\begin{function}[added = 2022-07-03]{\draftpaper}
  \begin{ccnusyntax}[emph={[1]draftpaper}]
    \draftpaper(*\oarg{参数列表}*)
  \end{ccnusyntax}
  草稿纸命令。使用一次产生一页的草稿纸。参数列表见~\ref{subsubsec:参数-草稿纸}
\end{function}


\subsubsection{方格}

在密封线或者 \tn{information} 命令所输出的个人信息中，可能会需要输出方格（如 2021 年数学高考原卷），于是开发了下面的 \tn{examsquare} 命令。

\begin{function}[added = 2022-07-04]{\examsquare}
  \begin{ccnusyntax}[emph={[1]examsquare}]
    \examsquare(*\oarg{参数列表}\marg{方格个数}*)
  \end{ccnusyntax}
  方格命令。参数列表见~\ref{subsubsec:参数-方格}
\end{function}

\subsubsection{评分框}

\begin{function}[added = 2022-07-04]{\scoringbox,\scoringbox*}
  \begin{ccnusyntax}[emph={[1]scoringbox}]
    \scoringbox
    \scoringbox*
  \end{ccnusyntax}
  评分框命令。可单独使用。相关键值见~\ref{subsubsec:参数-评分框}
\end{function}

\begin{latexexample}{评分框示例}
  \scoringbox \quad \scoringbox*
\end{latexexample}


\subsection{参数设置}

\begin{function}{\examsetup}
  \begin{ccnusyntax}[morekeywords={\examsetup}]
    \examsetup(*\marg{键值列表}*)
  \end{ccnusyntax}
  本模板提供了一系列选项，可由您自行配置。载入文档类之后，以下所有选项均可通过统一的命令 \cs{examsetup} 来设置。
\end{function}

\cs{examsetup} 的参数是一组由（英文）逗号隔开的选项列表，列表中的
选项通常是 \kvopt{\meta{key}}{\meta{value}} 的形式。部分选项的
\meta{value} 可以省略。对于同一项，后面的设置将会覆盖前面的设置。
在下文的说明中，将用\textbf{粗体}表示默认值。

\cs{examsetup} 采用 \LaTeX3 风格的键值设置，支持不同类型以及多种
层次的选项设定。键值列表中，“|=|”左右的空格不影响设置；但需注意，
参数列表中\emph{不可以出现空行}。

与模板选项相同，布尔型的参数可以省略 \kvopt{\meta{选项}}{true}
中的“\kvopt{}{true}”。

另有一些选项包含子选项，如 \opt{page} 和 \opt{choices} 等。它们可以
按如下两种等价方式来设定：

\begin{latexcode}[morekeywords={\examsetup},
    emph={[1]page,size,choices,column-sep,label-pos,label-sep,max-columns}]
  \examsetup{
    page = {
      size = a3paper
    },
    choices = {
      column-sep  = 1em,
      label-pos   = auto,
      label-sep   = 0.5em,
      max-columns = 4
    }
  }
\end{latexcode}

或者

\begin{latexcode}[morekeywords={\examsetup},
    emph={[1]page,size,choices,column-sep,label-pos,label-sep,max-columns}]
  \examsetup{
    page/size            = a3paper,
    choices/column-sep   = 1em,
    choices/label-pos    = auto,
    choices/label-sep    = 0.5em,
    choices/max-columns  = 4
  }
\end{latexcode}


注意 “|/|” 的前后均不可以出现空白字符。


\subsubsection{页面设置}

\begin{function}{page}
  \begin{ccnusyntax}[emph={[1]page}]
    page = (*\marg{键值列表}*)
    page/(*\meta{key}*) = (*\meta{value}*)
  \end{ccnusyntax}
  该选项包含许多子项目，用于设置页面设置。具体内容见下。
\end{function}

\begin{function}{page/size}
  \begin{ccnusyntax}[emph={[1]size}]
    size = (*<a3paper|(a4paper)>*)
  \end{ccnusyntax}
  试卷尺寸。\opt{a4paper} 表示一页为 A4 纸大小；\opt{a3paper} 表示一页为 A3 纸大小，内容为连续两页 A4 拼接。
\end{function}

\begin{function}{page/foot-style}
  \begin{ccnusyntax}[emph={[1]foot-style}]
    foot-style = (*<common|(separate)>*)
  \end{ccnusyntax}
  \kvopt{page/size}{a3paper} 时页脚的类型。\opt{common} 表示两页 A4 纸（即一页 A3 纸）共用一个页脚；\opt{separate} 表示两页 A4 纸各自有一个页脚。
\end{function}

\begin{function}[added = 2022-07-04]{page/foot-content}
  \begin{ccnusyntax}[emph={[1]foot-content}]
    foot-content = (*\meta{页脚格式}*)
  \end{ccnusyntax}
  页脚内容设置。
  \begin{itemize}
    \item 若\meta{页脚格式} 中不含西文分号 |;|，则页脚内容为 \meta{页脚格式} 直接输出；
    \item 若\meta{页脚格式} 中含一个西文分号 |;|，如 |foo;bar|，则页脚为 |foo<the page>bar|，即西文分号代替了页码的位置；
    \item 若\meta{页脚格式} 中含两个西文分号 |;|，如 |foo;bar;baz|，则页脚为 |foo<the page>bar<total page>|，即第一个西文分号代替了页码的位置，第二个代替了总页码。
  \end{itemize}
\end{function}

\begin{function}[added = 2022-07-04]{page/show-columnline}
  \begin{ccnusyntax}[emph={[1]show-columnline}]
    show-columnline = (*\TTF*)
  \end{ccnusyntax}
  \kvopt{page/size}{a3paper} 时是否显示两页 A4 之间的中间竖线。
\end{function}

\begin{function}[added = 2022-07-04]{page/columnline-width}
  \begin{ccnusyntax}[emph={[1]columnline-width}]
    columnline-width = (*\meta{dimension}*)
  \end{ccnusyntax}
  \kvopt{page/show-columnline}{true} 时竖线的宽度。默认为 |0.4pt|。
\end{function}



\subsubsection{密封线} \label{subsubsec:参数-密封线}

\begin{function}{sealline}
  \begin{ccnusyntax}[emph={[1]sealline}]
    sealline = (*\marg{键值列表}*)
    sealline/(*\meta{key}*) = (*\meta{value}*)
  \end{ccnusyntax}
  该选项包含许多子项目，用于设置密封线。具体内容见下。
\end{function}


\begin{function}{sealline/show}
  \begin{ccnusyntax}[emph={[1]show}]
    show = (*\TFF*)
  \end{ccnusyntax}
  是否显示密封线。
\end{function}

\begin{function}{sealline/scope}
  \begin{ccnusyntax}[emph={[1]scope}]
    scope = (*<firstpage|oddpage|(everypage)>*)
  \end{ccnusyntax}
  密封线的作用范围。\opt{firstpage} 表示仅在第一页有密封线；\opt{oddpage} 表示仅有奇数页有密封线，在页面左侧；\opt{everypage} 表示每页都有密封线，奇数页密封线在页面左侧，偶数页密封线在页面右侧。
\end{function}


下面介绍密封线的具体细节参数控制。在此之前，先对参数进行说明，若为：
\begin{latexcode}
  foo      = ...
  odd-foo  = ...
  even-foo = ...
\end{latexcode}

则
\begin{itemize}
  \item \opt{foo} 表示统一控制奇偶页的密封线参数；
  \item \opt{odd-foo} 表示控制奇数页的密封线参数；
  \item \opt{even-foo} 表示控制偶数页的密封线参数。
\end{itemize}

若仅有
\begin{latexcode}
  odd-foo  = ...
\end{latexcode}

则表示该参数仅作用于奇数页的密封线。

关于下面出现的“水平”或“垂直”，不额外说明就默认是正常的参考系，即“左右”为“水平”、“上下”为“垂直”。


\begin{function}{sealline/line-thickness,sealline/odd-line-thickness,sealline/even-line-thickness}
  \begin{ccnusyntax}[emph={[1]line-thickness,odd-line-thickness,even-line-thickness}]
    line-thickness = (*\meta{dimension}*)
    odd-line-thickness = (*\meta{dimension}*)
    even-line-thickness = (*\meta{dimension}*)
  \end{ccnusyntax}
  密封线的线厚度。
\end{function}

\begin{function}{sealline/line-xshift,sealline/odd-line-xshift,sealline/even-line-xshift}
  \begin{ccnusyntax}[emph={[1]line-xshift,odd-line-xshift,even-line-xshift}]
    line-xshift = (*\meta{dimension}*)
    odd-line-xshift = (*\meta{dimension}*)
    even-line-xshift = (*\meta{dimension}*)
  \end{ccnusyntax}
  密封线的水平偏移量。默认为 |8mm|。\meta{dimension} 为正值时，奇数页密封线往左偏移，偶数页密封线往右偏移。
\end{function}

\begin{function}{sealline/line-yshift,sealline/odd-line-yshift,sealline/even-line-yshift}
  \begin{ccnusyntax}[emph={[1]line-yshift,odd-line-yshift,even-line-yshift}]
    line-yshift = (*\meta{dimension}*)
    odd-line-yshift = (*\meta{dimension}*)
    even-line-yshift = (*\meta{dimension}*)
  \end{ccnusyntax}
  密封线的垂直伸缩量。默认为 |0mm|，奇偶页效果相同。\meta{dimension} 为正值时，密封线上下同时“往内缩 \meta{dimension} 长度”。0mm 的效果是密封线长度为版心高度。
\end{function}

\begin{function}{sealline/line-type,sealline/odd-line-type,sealline/even-line-type}
  \begin{ccnusyntax}[emph={[1]line-type,odd-line-type,even-line-type}]
    line-type = (*\meta{dimension}*)
    odd-line-type = (*\meta{dimension}*)
    even-line-type = (*\meta{dimension}*)
  \end{ccnusyntax}
  密封线的类型。参考了 \TikZ 的线类型，主要有以下几种，从名称可以看出几种线的类型和效果，这里就不做解释：
\end{function}
\begin{choices}[label = \circlednumber*]
  \item solid
  \item dotted
  \item densely-dotted
  \item loosely-dotted
  \item dashed
  \item densely-dashed
  \item loosely-dashed
  \item dash-dot
  \item densely-dash-dot
  \item loosely-dash-dot
  \item dash-dot-dot
  \item densely-dash-dot-dot
  \item loosely-dash-dot-dot
\end{choices}


\begin{function}{sealline/text,sealline/odd-text,sealline/even-text}
  \begin{ccnusyntax}[emph={[1]text,odd-text,even-text}]
    text = (*\meta{content}*)
    odd-text = (*\meta{content}*)
    even-text = (*\meta{content}*)
  \end{ccnusyntax}
  沿着密封线的文字，效果为均匀分散，类似于 \tn{makebox} 的 \cmd{s} 选项。默认值为 |密封线内不得答题|
\end{function}

\begin{function}{sealline/text-xshift,sealline/odd-text-xshift,sealline/even-text-xshift}
  \begin{ccnusyntax}[emph={[1]text-xshift,odd-text-xshift,even-text-xshift}]
    text-xshift = (*\meta{dimension}*)
    odd-text-xshift = (*\meta{dimension}*)
    even-text-xshift = (*\meta{dimension}*)
  \end{ccnusyntax}
  沿着密封线的文字的水平偏移量。默认为 |11mm|。\meta{dimension} 为正值时，奇数页文字往左偏移，偶数页文字往右偏移。
\end{function}


\begin{function}{sealline/text-yshift,sealline/odd-text-yshift,sealline/even-text-yshift}
  \begin{ccnusyntax}[emph={[1]text-yshift,odd-text-yshift,even-text-yshift}]
    text-yshift = (*\meta{dimension}*)
    odd-text-yshift = (*\meta{dimension}*)
    even-text-yshift = (*\meta{dimension}*)
  \end{ccnusyntax}
  沿着密封线的文字的垂直伸缩量。默认为 |30mm|。作用与 \opt{line-yshift} 类似，奇偶页效果相同。\meta{dimension} 为正值时，文字部分同时“往内缩 \meta{dimension} 长度”。如果设置成为 0mm，则文字部分的总长度为版心高度。
\end{function}

\begin{function}[added = 2022-07-04]{sealline/text-align,sealline/odd-text-align,sealline/even-text-align}
  \begin{ccnusyntax}[emph={[1]text-align,odd-text-align,even-text-align}]
    text-align = (*<(fit to path)|left|center|right>*)
    odd-text-align = (*<(fit to path)|left|center|right>*)
    even-text-align = (*<(fit to path)|left|center|right>*)
  \end{ccnusyntax}
  沿着密封线的文字的对齐方式。\opt{fit to path} 表示沿着路径分散开（类似于 \tn{makebox} 的 \opt{s} 参数；\opt{left} 表示文字正常，整体在路径的左侧（以密封线为参考）；\opt{center} 表示文字正常，整体在路径的中间（以密封线为参考）；\opt{right} 表示文字正常，整体在路径的右侧（以密封线为参考）。
\end{function}

\begin{function}{sealline/circle-show,sealline/odd-circle-show,sealline/even-circle-show}
  \begin{ccnusyntax}[emph={[1]circle-show,odd-circle-show,even-circle-show}]
    circle-show = (*\TTF*)
    odd-circle-show = (*\TTF*)
    even-circle-show = (*\TTF*)
  \end{ccnusyntax}
  密封线上的圆的显示与否。
\end{function}

\begin{function}{sealline/circle-start,sealline/odd-circle-start,sealline/even-circle-start,sealline/circle-end,sealline/odd-circle-end,sealline/even-circle-end}
  \begin{ccnusyntax}[emph={[1]circle-start,odd-circle-start,even-circle-start,circle-end,odd-circle-end,even-circle-end}]
    circle-start = (*\meta{float point}*)
    odd-circle-start = (*\meta{float point}*)
    even-circle-start = (*\meta{float point}*)
    circle-end = (*\meta{float point}*)
    odd-circle-end = (*\meta{float point}*)
    even-circle-end = (*\meta{float point}*)
  \end{ccnusyntax}
  密封线上的圈的起始点占线总场的比例，\meta{float point} 的范围为 $[0,1]$。分别默认为 |0.07| 和 |0.92| 。\opt{circle-start} 和 \opt{circle-end} 的值分别表示圆圈的起点和终点在线（以页面垂直的北到南方向为正方向）上的比例。
\end{function}

\begin{function}{sealline/circle-step,sealline/odd-circle-step,sealline/even-circle-step}
  \begin{ccnusyntax}[emph={[1]circle-step,odd-circle-step,even-circle-step}]
    circle-step = (*\meta{dimension}*)
    odd-circle-step = (*\meta{dimension}*)
    even-circle-step = (*\meta{dimension}*)
  \end{ccnusyntax}
  密封线上的两个圈之间的距离。默认为 |3.5em|。若倒数第二个圈加上 \opt{circle-step} 的值“超出了密封线的范围”，则最后一个圈并不会显示。
\end{function}

\begin{function}{sealline/circle-diameter,sealline/odd-circle-diameter,sealline/even-circle-diameter}
  \begin{ccnusyntax}[emph={[1]circle-diameter,odd-circle-diameter,even-circle-diameter}]
    circle-diameter = (*\meta{dimension}*)
    odd-circle-diameter = (*\meta{dimension}*)
    even-circle-diameter = (*\meta{dimension}*)
  \end{ccnusyntax}
  密封线上的圆的直径。默认为 |3mm|。
\end{function}


\begin{function}{sealline/circle-xshift,sealline/odd-circle-xshift,sealline/even-circle-xshift}
  \begin{ccnusyntax}[emph={[1]circle-xshift,odd-circle-xshift,even-circle-xshift}]
    circle-xshift = (*\meta{dimension}*)
    odd-circle-xshift = (*\meta{dimension}*)
    even-circle-xshift = (*\meta{dimension}*)
  \end{ccnusyntax}
  密封线上的圆的水平偏移量。默认为 |8mm|。
\end{function}

\begin{function}{sealline/odd-info-content}
  \begin{ccnusyntax}[emph={[1]odd-info-content}]
    odd-info-content = (*\marg{comma list}*)
  \end{ccnusyntax}
  奇数页密封线旁的学生信息。输入内容需要用 |{}| 包起来并用西文逗号隔开。示例（也是默认）如下：
  \begin{latexcode}[gobble=4]
    \examsetup{
      odd-info-content = {
        {\kaishu 姓名}：{\underline{\hspace*{8em}}},
        {\kaishu 准考证号}：{\underline{\hspace*{8em}}},
        {\kaishu 考场号}：{\underline{\hspace*{8em}}},
        {\kaishu 座位号}：{\underline{\hspace*{8em}}}
      }
    }
  \end{latexcode}
  其中需要注意的是：由于接口沿用的是 \TikZ 的 \cmd{decoration} 的 \cmd{text} 接口，所以命令必须要用 |{}| 包起来（具体原因感兴趣的用户可以 \cmd{texdoc tikz} 自行查阅），如所示的 |{\underline{\hspace*{8em}}}|
\end{function}


\begin{function}{sealline/odd-info-seperator}
  \begin{ccnusyntax}[emph={[1]odd-info-seperator}]
    odd-info-seperator = (*\meta{seperator}*)
  \end{ccnusyntax}
  奇数页密封线旁的学生信息的分隔符。即上方 \cmd{odd-info-content} 几个内容之间的分隔符，默认为 |\hspace*{3em}|，即用 |3em| 的空白分隔。一般为水平空白。
\end{function}


\begin{function}{sealline/odd-info-align}
  \begin{ccnusyntax}[emph={[1]odd-info-align}]
    odd-info-align = (*<left|(center)|right>*)
  \end{ccnusyntax}
  奇数页密封线旁的学生信息的对齐方式。将试卷顺时针方向旋转 90 度视角后为参考（即此时密封线为水平线）。
\end{function}

\begin{function}{sealline/odd-info-xshift}
  \begin{ccnusyntax}[emph={[1]odd-info-xshift}]
    odd-info-xshift = (*\meta{dimension}*)
  \end{ccnusyntax}
  奇数页密封线旁的学生信息的水平偏移量。默认值为 |20mm|
\end{function}

\begin{function}{sealline/odd-info-yshift}
  \begin{ccnusyntax}[emph={[1]odd-info-yshift}]
    odd-info-yshift = (*\meta{dimension}*)
  \end{ccnusyntax}
  奇数页密封线旁的学生信息的垂直偏移量。默认值为 |0mm|，此时若 \kvopt{odd-info-align}{left} 则 \cmd{odd-info-content} 的左侧与版心底部对齐。
\end{function}



\subsubsection{方格} \label{subsubsec:参数-方格}

\begin{function}{square}
  \begin{ccnusyntax}[emph={[1]square}]
    square = (*\marg{键值列表}*)
    square/(*\meta{key}*) = (*\meta{value}*)
  \end{ccnusyntax}
  该选项包含许多子项目，用于设置方格。具体内容见下。
\end{function}

\begin{function}[added = 2022-07-04]{square/square-x}
  \begin{ccnusyntax}[emph={[1]square-x}]
    square-x = (*\meta{dimension}*)
  \end{ccnusyntax}
  \tn{examsquare} 命令单位方形的长。默认为 |1.4em|。
\end{function}

\begin{function}[added = 2022-07-04]{square/square-y}
  \begin{ccnusyntax}[emph={[1]square-y}]
    square-y = (*\meta{dimension}*)
  \end{ccnusyntax}
  \tn{examsquare} 命令单位方形的宽。默认为 |1.2em|。
\end{function}


\begin{function}[added = 2022-07-04]{square/square-baseline}
  \begin{ccnusyntax}[emph={[1]square-baseline}]
    square-baseline = (*\meta{dimension}*)
  \end{ccnusyntax}
  \tn{examsquare} 命令的基线偏移。默认为 |3pt|。一般长宽有较大的改动的情况才会改此参数。
\end{function}

\begin{function}[added = 2022-07-04]{square/square-linewidth}
  \begin{ccnusyntax}[emph={[1]square-linewidth}]
    square-linewidth = (*\meta{dimension}*)
  \end{ccnusyntax}
  \tn{examsquare} 命令单位方形的线宽。默认为 |0.4pt|。
\end{function}

\begin{function}[added = 2022-07-04]{square/square-xshift}
  \begin{ccnusyntax}[emph={[1]square-xshift}]
    square-xshift = (*\meta{dimension}*)
  \end{ccnusyntax}
  \tn{examsquare} 命令必选参数大于 1 时，后面的方格相对于前面的水平偏移。默认和 \opt{square-linewidth} 的值相同，一般不需要自己修改。
\end{function}


\subsubsection{字体}


\begin{function}{font}
  \begin{ccnusyntax}[emph={[1]font}]
    font = (*(newcm)|lm|times|termes|stix|xits|libertinus|none*)
  \end{ccnusyntax}
  设置西文字体。具体配置见表~\ref{tab:font}。
\end{function}

\begin{function}{math-font}
  \begin{ccnusyntax}[emph={[1]math-font}]
    math-font = (*(newcm)|lm|termes|stix|xits|libertinus|cambria|none*)
  \end{ccnusyntax}
  设置数学字体。具体配置见表~\ref{tab:math-font}。
\end{function}


\begin{table}[htbp]
  \centering
  \begin{threeparttable}
    \caption{西文字体配置}
    \label{tab:font}
    \small
    \begin{tabular}{ccccc}
      \toprule
        & \textbf{正文字体} & \textbf{无衬线字体} & \textbf{等宽字体}\\
      \midrule
      |newcm|      & NewCM10         & NewCMSans10    & NewCMMono10   \\
      |lm|         & lmroman10       & lmsans10       & lmmonolt10    \\
      |times|      & Times New Roman & Arial          & Courier New   \\
      |termes|     & texgyretermes   & texgyreheros   & texgyrecursor \\
      |stix|       & STIXTwoText\tnote{a}     & texgyreheros   & texgyrecursor \\
      |xits|       & XITS\tnote{b}         & texgyreheros   & texgyrecursor \\
      |libertinus| & LibertinusSerif\tnote{c}  & LibertinusSans\tnote{d} & lmmonolt10 \\
      \bottomrule
    \end{tabular}
    \begin{tablenotes}
      \item[a] 或 STIX2Text
      \item[b] 或 xits
      \item[c] 或 libertinusserif
      \item[d] 或 libertinussans
    \end{tablenotes}
  \end{threeparttable}
\end{table}

\begin{table}[htbp]
  \centering
  \begin{threeparttable}
    \caption{数学字体配置}
    \label{tab:math-font}
    \small
    \begin{tabular}{ccccc}
      \toprule
        & \textbf{mathfont} & \textbf{mathrm} & \textbf{mathsf} & \textbf{mathtt} \\
      \midrule
      |newcm|      & NewCMMath-Book        & NewCM10    & NewCMSans10  & NewCMMono10 \\
      |lm|         & latinmodern-math      & lmroman10  & lmsans10     & lmmonolt10    \\
      |stix|       & STIXTwoMath-Regular\tnote{a}  & & & \\
      |xits|       & XITSMath-Regular\tnote{b}       & & & \\
      |libertinus| & LibertinusMath-Regular\tnote{c} & & & \\
      |cambria|    & Cambria Math                & & & \\
      \bottomrule
    \end{tabular}
    \begin{tablenotes}
      \item[a] 或 STIX2Math
      \item[b] 或 xits-math
      \item[c] 或 libertinusmath-regular
    \end{tablenotes}
  \end{threeparttable}
\end{table}


\subsubsection{抬头} \label{subsubsec:参数-抬头}

\begin{function}{title}
  \begin{ccnusyntax}[emph={[1]title}]
    title = (*\marg{键值列表}*)
    title/(*\meta{key}*) = (*\meta{value}*)
  \end{ccnusyntax}
  该选项包含许多子项目，用于设置抬头。具体内容见下。
\end{function}

\begin{function}[added = 2022-07-03]{title/title-format}
  \begin{ccnusyntax}[emph={[1]title-format}]
    title-format = (*\meta{格式命令}*)
  \end{ccnusyntax}
  \tn{title} 的格式命令。默认为 |\Large|。
\end{function}

\begin{function}[added = 2022-07-03]{title/subject-format}
  \begin{ccnusyntax}[emph={[1]subject-format}]
    subject-format = (*\meta{格式命令}*)
  \end{ccnusyntax}
  \tn{subject} 的格式命令。默认为 |\sffamily \bfseries \huge|。
\end{function}

\begin{function}[added = 2022-07-03]{title/top-sep}
  \begin{ccnusyntax}[emph={[1]top-sep}]
    top-sep = (*\meta{dimension}*)
  \end{ccnusyntax}
  \tn{title} 和 \tn{subject} 的整体上方间距。默认为 |0.5em plus 0.3em minus 0.2em|。
\end{function}

\begin{function}[added = 2022-07-03]{title/bottom-sep}
  \begin{ccnusyntax}[emph={[1]bottom-sep}]
    bottom-sep = (*\meta{dimension}*)
  \end{ccnusyntax}
  \tn{title} 和 \tn{subject} 的整体下方间距。默认为 |0.5em plus 0.3em minus 0.2em|。
\end{function}


\subsubsection{题干} \label{subsubsec:参数-题干}

\begin{function}{question}
  \begin{ccnusyntax}[emph={[1]question}]
    question = (*\marg{键值列表}*)
    question/(*\meta{key}*) = (*\meta{value}*)
  \end{ccnusyntax}
  该选项包含许多子项目，用于设置题干。具体内容见下。
\end{function}


\begin{function}[updated = 2022-07-05]{question/show-answer}
  \begin{ccnusyntax}[emph={[1]show-answer}]
    show-answer = (*\TFF*)
  \end{ccnusyntax}
  统一控制 \tn{paren} 和 \tn{fillin} 中答案的显示与否。
\end{function}


\begin{function}{question/answer-color}
  \begin{ccnusyntax}[emph={[1]answer-color}]
    answer-color = (*\meta{color}*)
  \end{ccnusyntax}
  设置 \tn{paren} 和 \tn{fillin} 中答案的颜色。
\end{function}

\examsetup{
  question/index=0
}
\begin{latexexample}{\cmd{question/answer-color} 的效果}
  \begin{question}
    题干 \paren[A]
  \end{question}
  \begin{question}
    答案是 \fillin[答案]
  \end{question}

  \examsetup{
    question = {
      show-answer  = true,
      answer-color = red
    }
  }

  \begin{question}
    题干 \paren[A]
  \end{question}
  \begin{question}
    答案是 \fillin[答案]
  \end{question}
\end{latexexample}


\begin{function}{question/points}
  \begin{ccnusyntax}[emph={[1]points}]
    points = (*\meta{color}*)
  \end{ccnusyntax}
  \env{question} 和 \env{problem} 环境中的分数。
\end{function}


\env{question} 和 \env{problem} 环境的参数大部分通过 \tn{examsetup} 和本节的参数控制，但也有一般在 \env{question} 和 \env{problem} 环境的 \oarg{键值列表} 中使用的，比如 \cmd{points}。（很容易理解，每道题的分值很有可能不尽相同，所以一般都是采用“个性化”，而不是 \tn{examsetup} 的“全局化”。除非是选择题和填空题这种一般每道题分数一样的）

\begin{function}{question/show-points}
  \begin{ccnusyntax}[emph={[1]show-points}]
    show-points = (*true|(auto)|false*)
  \end{ccnusyntax}
  控制 \env{question} 和 \env{problem} 环境中的分数的显示与否。\opt{auto} 表示 \env{question} 环境的分数不显示（比如选择、填空题，因为每道题一般分数相同），而 \env{problem} 环境的分数显示（比如解答题，每道题一般分数不同）；\opt{true} 和 \opt{false} 分别表示 \env{question} 和 \env{problem} 环境中的分数全都显示和全都不显示。
\end{function}

\begin{function}{question/points-separate-par}
  \begin{ccnusyntax}[emph={[1]points-separate-par}]
    points-separate-par = (*\TFF*)
  \end{ccnusyntax}
  \env{question} 和 \env{problem} 环境中的分数是否单独成段。\env{question} 环境默认为 \opt{false}，\env{problem} 环境默认为 \opt{true}。
\end{function}

\begin{function}{question/show-paren}
  \begin{ccnusyntax}[emph={[1]show-paren}]
    show-paren = (*\TFF*)
  \end{ccnusyntax}
  是否显示 \tn{paren} 命令的括号。
\end{function}

\begin{function}{question/top-sep,question/bottom-sep}
  \begin{ccnusyntax}[emph={[1]top-sep,bottom-sep}]
    top-sep = (*\meta{skip}*)
    bottom-sep = (*\meta{skip}*)
  \end{ccnusyntax}
  \env{question} 和 \env{problem} 环境的上下方的弹性间距。默认均为 |.5em plus .5em minus .2em|
\end{function}


\begin{function}{question/index}
  \begin{ccnusyntax}[emph={[1]index}]
    index = (*\meta{integer}*)
  \end{ccnusyntax}
  手动设置 \env{question} 和 \env{problem} 环境的计数器值。一般用于两个环境的 \meta{键值列表} 中。
\end{function}



\subsubsection{选择题} \label{subsubsec:参数-选择题}

\begin{function}{choices}
  \begin{ccnusyntax}[emph={[1]choices}]
    choices = (*\marg{键值列表}*)
    choices/(*\meta{key}*) = (*\meta{value}*)
  \end{ccnusyntax}
  该选项包含许多子项目，用于设置 \env{choices} 环境。具体内容见下，可以通过 \tn{examsetup} 进行统一处理，也可以用于 \env{choices} 环境的 \meta{键值列表} 针对某一 \env{choices} 环境调整。
\end{function}

\begin{function}{choices/index}
  \begin{ccnusyntax}[emph={[1]index}]
    index = (*\meta{integer}*)
  \end{ccnusyntax}
  选项第一项 label 的计数器的起始值。
\end{function}
\begin{latexexample}{\opt{choices/index} 示例}
  \begin{choices}
    \item 1
    \item 2
    \item 3
  \end{choices}

  \begin{choices}[index = 2]
    \item 1
    \item 2
    \item 3
  \end{choices}
\end{latexexample}


\begin{function}{choices/column-sep}
  \begin{ccnusyntax}[emph={[1]column-sep}]
    column-sep = (*\meta{dimension}*)
  \end{ccnusyntax}
  选项列之间的最小间隔。默认为 |1em|。
\end{function}


\begin{function}{choices/columns}
  \begin{ccnusyntax}[emph={[1]columns}]
    columns = (*\meta{integer}*)
  \end{ccnusyntax}
  强制按照该列数排版选项，如果为 0 则自动选择合适的列数。
  % 手动设置 \env{choices} 环境排出的选项的列数，否则会根据选项内容自动计算。一般用于 \env{choices} 环境的 \meta{参数列表}。
\end{function}


\begin{function}{choices/label}
  \begin{ccnusyntax}[emph={[1]label}]
    label = (*\meta{label}*)
  \end{ccnusyntax}
  标签的格式。默认效果等效于 |label = \Alph*.|。计数器样式主要有以下几种：
\end{function}

\begin{choices}[label = \circlednumber*]
  \item arabic（阿拉伯数字）
  \item alph（小写英文）
  \item Alph（大写英文）
  \item roman（小写罗马数字）
  \item Roman（大写罗马数字）
  \item circlednumber（带圈数字）
\end{choices}

还可以使用~\ref{subsubsec:命令环境-选择题} 节的 \tn{AddChoicesCounter} 命令自定义计数器样式。

使用方式为（以 \opt{arabic} 为例）：\kvopt{label}{<pre>\textbackslash arabic*<post>}（类似 \pkg{enumitem} 宏包），其中 \meta{pre} 和 \meta{post} 表示计数器前后的内容，举例：
\begin{latexexample}{\env{choices} 环境 label 的使用示例}
  \begin{choices}
    \item 第一项
    \item 第二项
    \item 第三项
    \item 第四项
  \end{choices}

  \begin{choices}[label = \arabic*)]
    \item 第一项
    \item 第二项
    \item 第三项
    \item 第四项
  \end{choices}
\end{latexexample}

如果想要隐藏或去掉 label 的话，可以使用 |label = {}|，但一般这个需求可能使用表格或其它方法会更好。


\begin{function}{choices/label-pos}
  \begin{ccnusyntax}[emph={[1]label-pos}]
    label-pos = (*<(auto)|top-left|left|bottom>*)
  \end{ccnusyntax}
  标签相对于选项内容的位置。\opt{auto} 会根据内容高度来判断，当高度到达一定程度时会判断为插图，并将 label 放置于 内容 的 \opt{bottom} 位置；\opt{top-left} 表示在内容左侧并置于顶部；\opt{top-left} 表示在内容左侧并置于中间；\opt{top-left} 表示在内容底部；
\end{function}


\begin{function}{choices/label-align}
  \begin{ccnusyntax}[emph={[1]label-align}]
    label-align = (*left|center|(right)*)
  \end{ccnusyntax}
  标签内部的对齐方式。
\end{function}

\begin{latexexample}{\opt{label-align} 的效果示例}
  \begin{choices}[index = 8, label = \arabic*.]
    \item 1
    \item 2
    \item 3
    \item 4
  \end{choices}
  \begin{choices}[index = 8, label = \arabic*., label-align = left]
    \item 1
    \item 2
    \item 3
    \item 4
  \end{choices}
  \begin{choices}[index = 8, label = \arabic*., label-align = center]
    \item 1
    \item 2
    \item 3
    \item 4
  \end{choices}
\end{latexexample}


\begin{function}{choices/label-sep}
  \begin{ccnusyntax}[emph={[1]label-sep}]
    label-sep = (*\meta{dimension}*)
  \end{ccnusyntax}
  标签与选项之间的距离。默认为 |0.5em|。
\end{function}

\begin{function}{choices/label-width}
  \begin{ccnusyntax}[emph={[1]label-width}]
    label-width = (*\meta{dimension}*)
  \end{ccnusyntax}
  标签的宽度。如果宽度不足会自动调整为最长标签的宽度。默认 |0pt|
\end{function}

\begin{function}{choices/max-columns}
  \begin{ccnusyntax}[emph={[1]max-columns}]
    max-columns = (*\meta{integer}*)
  \end{ccnusyntax}
  选项的最大列数。排版选项时会优先尝试该列数，如果无法排下内容，依次将列数除以 2 并取整再进行尝试，直到可以排下全部选项。默认为 |4| 。
\end{function}



\begin{function}{paren}
  \begin{ccnusyntax}[emph={[1]paren}]
    paren = (*\marg{键值列表}*)
    paren/(*\meta{key}*) = (*\meta{value}*)
  \end{ccnusyntax}
  该选项包含一个子项目，用于设置 \tn{paren} 命令。具体内容见下。
\end{function}

\begin{function}[added = 2022-07-05]{paren/show-answer}
  \begin{ccnusyntax}[emph={[1]show-answer}]
    show-answer = (*\TFF*)
  \end{ccnusyntax}
  控制 \tn{paren} 答案的显示与否。注意和 \opt{question/show-answer} 的先后顺序可能会影响结果。
\end{function}



\subsubsection{填空题} \label{subsubsec:参数-填空题}


\begin{function}{fillin}
  \begin{ccnusyntax}[emph={[1]fillin}]
    fillin = (*\marg{键值列表}*)
    fillin/(*\meta{key}*) = (*\meta{value}*)
  \end{ccnusyntax}
  该选项暂时包含一个子项目，用于设置填空命令 \tn{fillin} 的类型。具体内容见下。
\end{function}

\begin{function}[updated = 2022-07-05]{fillin/type}
  \begin{ccnusyntax}[emph={[1]type}]
    type = (*<(line)|paren|circle>*)
  \end{ccnusyntax}
  填空命令 \tn{fillin} 的类型。\opt{line} 表示下划线；\opt{paren} 表示括号；\opt{circle} 表示外包一个圆，当内容变多时，圆会“拉伸开变成椭圆”。
  \begin{latexexample}{\tn{fillin} 的三个类型以及参数使用方式}
    答案是 \fillin \fillin[]
    \fillin[type = paren][]
    \fillin[type = circle][]\end{latexexample}
\end{function}


\begin{function}[added = 2022-07-03]{fillin/show-blacktriangle}
  \begin{ccnusyntax}[emph={[1]show-blacktriangle}]
    show-blacktriangle = (*\TTF*)
  \end{ccnusyntax}
  填空命令 \tn{fillin} 在 \kvopt{show-blacktriangle}{true} 和 \kvopt{question/show-answer}{false} 的情况下会显示黑色三角形（即使已经输入了答案 |\fillin[foo]|）。
\end{function}


\begin{function}[added = 2022-07-05]{fillin/show-answer}
  \begin{ccnusyntax}[emph={[1]show-answer}]
    show-answer = (*\TFF*)
  \end{ccnusyntax}
  控制 \tn{fillin} 答案的显示与否。注意和 \opt{question/show-answer} 的先后顺序可能会影响结果。
\end{function}

\begin{function}[added = 2022-07-06]{fillin/width}
  \begin{ccnusyntax}[emph={[1]width}]
    width = (*<skip>*)
  \end{ccnusyntax}
  控制 \tn{fillin} 不显示答案时的长度，可以为弹性长度，默认为 |3em plus 1em minus 1em|。
\end{function}


\subsubsection{解答题} \label{subsubsec:参数-解答题}

\begin{function}[added = 2022-07-01]{solution}
  \begin{ccnusyntax}[emph={[1]solution}]
    solution = (*\marg{键值列表}*)
    solution/(*\meta{key}*) = (*\meta{value}*)
  \end{ccnusyntax}
  该选项包含许多子项目，用于设置 \env{solution} 环境。具体内容见下，只能通过 \tn{examsetup} 进行处理。
\end{function}


\begin{function}[added = 2022-07-01]{solution/show-solution}
  \begin{ccnusyntax}[emph={[1]show-solution}]
    show-solution = (*\TTF*)
  \end{ccnusyntax}
  是否显示解答环境 \env{solution} 的内容。
\end{function}

\begin{function}[added = 2022-07-01]{solution/show-qed}
  \begin{ccnusyntax}[emph={[1]show-qed}]
    show-qed = (*\TTF*)
  \end{ccnusyntax}
  是否显示 \env{solution} 环境结束的结束符号。
\end{function}

\begin{function}[added = 2022-07-02]{solution/qedsymbol}
  \begin{ccnusyntax}[emph={[1]qedsymbol}]
    qedsymbol = (*\meta{symbol}*)
  \end{ccnusyntax}
  \env{solution} 环境结束的结束符号。默认为 |$\square$|。可以为文字等。
\end{function}

\begin{latexexample}{\opt{qedsymbol} 示例}
  \begin{solution}
    测试
  \end{solution}
  \examsetup{
    solution = {
      qedsymbol = \#
    }
  }
  \begin{solution}
    测试
  \end{solution}
\end{latexexample}

\begin{function}[added = 2022-07-01,updated = 2022-07-02]{solution/label-content}
  \begin{ccnusyntax}[emph={[1]label-content}]
    label-content = (*\meta{content}*)
  \end{ccnusyntax}
  \env{solution} 环境开头的标签内容。默认为 |解答|。若用于 \tn{examsetup} 则作用于之后的所有 \env{solution} 环境。
\end{function}

\begin{function}[added = 2022-07-01,updated = 2022-07-02]{solution/label-punct}
  \begin{ccnusyntax}[emph={[1]label-punct}]
    label-punct = (*\meta{punct}*)
  \end{ccnusyntax}
  \env{solution} 环境开头的标签内容后的标点。默认为空。若用于 \tn{examsetup} 则作用于之后的所有 \env{solution} 环境。
\end{function}

\begin{function}[added = 2022-07-02]{solution/score-pre-content}
  \begin{ccnusyntax}[emph={[1]score-pre-content}]
    score-pre-content = (*\meta{content}*)
  \end{ccnusyntax}
  \tn{score} 命令的前置内容。默认为空。
\end{function}

\begin{function}[added = 2022-07-02]{solution/score-post-content}
  \begin{ccnusyntax}[emph={[1]score-post-content}]
    score-post-content = (*\meta{content}*)
  \end{ccnusyntax}
  \tn{score} 命令的后置内容。默认为 |分|。
\end{function}

\begin{latexexample}{\opt{score-pre-content} 和 \opt{score-post-content} 示例}
  \examsetup{
    solution = {
      score-pre-content = 这个点可以有,
      score-post-content = 分的分数
    }
  }
  \begin{solution}
    函数的定义域为 $(0, +\infty)$,
    又 \[f^{\prime}(x) = 1 - \ln x-1 = -\ln x, \score{2}\]
    当 $x \in(0, 1)$ 时, $f^{\prime}(x) > 0$, 当 $x \in(1, +\infty)$ 时, $f^{\prime}(x) < 0$,
    故 $f(x)$ 的递增区间为 $(0,1)$, 递减区间为 $(1, +\infty)$.
  \end{solution}
\end{latexexample}

将 \opt{score-pre-content} 和 \opt{score-post-content} 设置为空就可以产生批注效果：
\begin{latexexample}{\opt{score-pre-content} 和 \opt{score-post-content} 为空产生批注效果}
  \examsetup{
    solution = {
      score-pre-content = {},
      score-post-content = {}
    }
  }
  \begin{solution}
    函数的定义域为 $(0, +\infty)$,
    又 \[f^{\prime}(x) = 1 - \ln x-1 = -\ln x, \score{这是关键点}\]
    当 $x \in(0, 1)$ 时, $f^{\prime}(x) > 0$, 当 $x \in(1, +\infty)$ 时, $f^{\prime}(x) < 0$,
    故 $f(x)$ 的递增区间为 $(0,1)$, 递减区间为 $(1, +\infty)$.
  \end{solution}
\end{latexexample}

\begin{function}[added = 2022-07-02, updated = 2022-07-03]{solution/score-format}
  \begin{ccnusyntax}[emph={[1]score-format}]
    score-format = (*\meta{风格设置}*)
  \end{ccnusyntax}
  \tn{score} 命令的内容的风格设置，可以是颜色或字体字号命令等。默认为 |\color{red}|。
\end{function}

\examsetup{
  solution = {
    score-pre-content = {},
    score-post-content = 分
  }
}
\begin{latexexample}{\opt{score-format} 示例}
  \examsetup{solution/score-format = {\sffamily \huge \color{blue}}}
  \begin{solution}
    测试 \score{2}
  \end{solution}
\end{latexexample}

\begin{function}[added = 2022-07-02]{solution/score-showleader}
  \begin{ccnusyntax}[emph={[1]score-showleader}]
    score-showleader = (*\TTF*)
  \end{ccnusyntax}
  \tn{score} 命令的引导线显示与否。
\end{function}


\subsubsection{几个列表环境} \label{subsubsec:参数-列表环境}

\begin{function}[added = 2022-07-04]{list}
  \begin{ccnusyntax}[emph={[1]list}]
    list = (*\marg{键值列表}*)
    list/(*\meta{key}*) = (*\meta{value}*)
  \end{ccnusyntax}
  该选项包含许多子项目。用于设置 \env{step}、\env{method}、\env{case} 环境。仅通过 \tn{examsetup} 进行统一处理。具体内容见下。
\end{function}

\begin{function}[added = 2022-07-04]{list/step-name,list/method-name,list/case-name}
  \begin{ccnusyntax}[emph={[1]step-name,method-name,case-name}]
    step-name   = (*\meta{step 环境 label 名}*)
    method-name = (*\meta{method 环境 label 名}*)
    case-name   = (*\meta{case 环境 label 名}*)
  \end{ccnusyntax}
  分别设置 \env{step}、\env{method}、\env{case} 环境的 label 名，分别默认为 |步骤|、|方法|、|情形|。
\end{function}

\begin{function}[added = 2022-07-04]{list/step-punct,list/method-punct,list/case-punct}
  \begin{ccnusyntax}[emph={[1]step-punct,method-punct,case-punct}]
    step-punct   = (*\meta{step 环境 label 后的标点}*)
    method-punct = (*\meta{method 环境 label 后的标点}*)
    case-punct   = (*\meta{case 环境 label 后的标点}*)
  \end{ccnusyntax}
  分别设置 \env{step}、\env{method}、\env{case} 环境的 label 后的标点，分别默认为 |.|、|{}|（无标点）、|.|。
\end{function}


\subsubsection{草稿纸} \label{subsubsec:参数-草稿纸}

\begin{function}[added = 2022-07-03]{draft}
  \begin{ccnusyntax}[emph={[1]draft}]
    draft = (*\marg{键值列表}*)
    draft/(*\meta{key}*) = (*\meta{value}*)
  \end{ccnusyntax}
  该选项包含许多子项目。用于设置 \tn{draftpaper} 命令。下面所述的键值，如果不额外说明，则表示可以通过 \tn{examsetup} 进行统一处理，也可以用 于 \tn{draftpaper} 命令的 \meta{键值列表} 针对某一 \tn{draftpaper} 命令调整。具体内容见下。
\end{function}


\begin{function}[added = 2022-07-03]{draft/watermark-size}
  \begin{ccnusyntax}[emph={[1]watermark-size}]
    watermark-size = (*\meta{dimension}*)
  \end{ccnusyntax}
  \tn{draftpaper} 命令的“草稿纸”水印的尺寸。A4 尺寸下默认为 |100pt|，A3 尺寸下默认为 |180pt|。
\end{function}

\begin{function}[added = 2022-07-03]{draft/show-watermark}
  \begin{ccnusyntax}[emph={[1]show-watermark}]
    show-watermark = (*\TTF*)
  \end{ccnusyntax}
  是否显示\tn{draftpaper} 命令的“草稿纸”水印。若为 \opt{true}，最多需要编译两次即可得到水印。
\end{function}


\begin{function}[added = 2022-07-03]{draft/show-draft}
  \begin{ccnusyntax}[emph={[1]show-draft}]
    show-draft = (*<auto|(manual)>*)
  \end{ccnusyntax}
  是否在文档最后自动添加两页的草稿纸。此键值只用于导言区的 \tn{examsetup} 命令。\opt{auto} 表示自动在末尾添加两页草稿纸，\opt{manual} 表示不在末尾添加草稿纸，如用户不需要草稿纸，或者是需要不止两页草稿纸的话，则需要改成 \opt{manual}，后者需求则需要用户自己手动在文档末尾添加所需要的 \tn{draftpaper} 命令即可。注意，密封线的作用范围包括了草稿纸。根据经验看，试卷的草稿纸一般也有相应的密封线，所以暂时没有单独去掉草稿纸的密封线范围。但是可以实现一种效果：正文密封线正常，草稿纸页完全空白：
  \begin{enumerate}
    \item 先在导言区使用 \tn{examsetup} 用~\ref{subsubsec:参数-密封线} 节的 |sealline| 相应接口正常编译所需要的密封线
    \item 在导言区加入 \kvopt{draft/show-draft}{auto}，编译 \emph{一次}，即可的到空白的草稿纸（编译两次就是正常按照 |draft| 相关参数和密封线一起编译所得到的草稿纸）
    \item 若需要不止两张或者只需要一张空白页，则把上一步的“在导言区加入 \kvopt{draft/show-draft}{auto}” 改为在正文中添加相应数量的 \tn{draftpaper} 命令，并编译 \emph{一次} 即可。
  \end{enumerate}
\end{function}


\subsubsection{评分框} \label{subsubsec:参数-评分框}

\begin{function}[added = 2022-07-04]{scoringbox}
  \begin{ccnusyntax}[emph={[1]scoringbox}]
    scoringbox = (*\marg{键值列表}*)
    scoringbox/(*\meta{key}*) = (*\meta{value}*)
  \end{ccnusyntax}
  该选项包含一个子项目。用于设置评分框。仅可以通过 \tn{examsetup} 进行处理。
\end{function}

\begin{function}[added = 2022-07-04]{scoringbox/type}
  \begin{ccnusyntax}[emph={[1]type}]
    type = (*<onecolumn|twocolumn|(none)>*)
  \end{ccnusyntax}
  该键值用于重定义 \tn{section} 命令，使得 \tn{scoringbox} 和 \tn{section} 结合起来。\opt{onecolumn} 表示单栏（即只有“得分”）的评分框和 \tn{section} 绑定，评分框置于左边；\opt{twocolumn} 表示双栏（即有“得分”和“评卷人”）的评分框和 \tn{section} 绑定，评分框置于左边；\opt{none} 表示不重定义 \tn{section} 命令，即不显示评分框。
\end{function}